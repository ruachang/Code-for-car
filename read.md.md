# 分析遥控代码构成以及思考合理的移植方法

## 地址

## led

* 推挽输出高

* 开的是GPIOA的时钟->我改成了GPIOA-4,GPIOB-0,GPIOB1

* 只有持续点灯一个功能,通过c文件开时钟以及点亮,通过h文件的宏定义定义led所在的引脚

* 修改时修改h文件中的定义

## key

* 下拉输入

* 开了GPIOA,GPIOC的时钟(源代码中的按键恰巧与我定义的一样)

* 目前没有加复位按键的定义

## motor

* 定义小车前进,后退,左转,右转所需要的函数

* 基本动作为设置轮子上两个接口的输出模式,不同的函数为4个轮子基本动作的组合

* 使用时函数在c文件中,修改时接口在h文件中

## PWM

* 设置PWM波的输出模式

* 应该可以决定输出波的分频系数,在h文件中改变参数

* (c文件中设置方法看不懂,假装不重要)

## RF2.4G

* 代码基本看不懂,反正就是使用SPI总线收发数据

* 源代码中在h文件中设置了三个引脚输出模式,但是源代码和原理图不同,代码可能有问题

  * 两个立创的小车的2.4G通信模块有两种接法,第一种与手册里的典型应用一样,我copy的第二种的电路连接,但是均与源代码设置的引脚不同

* 反正理论上应该设置4个引脚的宏定义,其中10,11位发送,接收;13,14为SET,CS,只要在发送状态CS都必须置低

## ADC

* 修改了宏定义,把引脚和源代码连接

* 但是没有看源代码的原理……

* 主函数中使用ADC检测剩余电量时会响BIZZAR,源文件中BIZZAR定义缺失,我把BIZZAR的控制函数补在led文件中了
